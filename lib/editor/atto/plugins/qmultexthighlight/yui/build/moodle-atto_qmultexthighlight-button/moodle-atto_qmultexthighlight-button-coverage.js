if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/moodle-atto_qmultexthighlight-button/moodle-atto_qmultexthighlight-button.js']) {
   __coverage__['build/moodle-atto_qmultexthighlight-button/moodle-atto_qmultexthighlight-button.js'] = {"path":"build/moodle-atto_qmultexthighlight-button/moodle-atto_qmultexthighlight-button.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":48},"end":{"line":1,"column":67}}},"2":{"name":"(anonymous_2)","line":40,"loc":{"start":{"line":40,"column":17},"end":{"line":40,"column":34}}},"3":{"name":"(anonymous_3)","line":42,"loc":{"start":{"line":42,"column":37},"end":{"line":42,"column":53}}},"4":{"name":"(anonymous_4)","line":88,"loc":{"start":{"line":88,"column":18},"end":{"line":88,"column":37}}},"5":{"name":"(anonymous_5)","line":161,"loc":{"start":{"line":161,"column":23},"end":{"line":161,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":211,"column":61}},"2":{"start":{"line":37,"column":0},"end":{"line":37,"column":41}},"3":{"start":{"line":39,"column":0},"end":{"line":209,"column":3}},"4":{"start":{"line":41,"column":8},"end":{"line":41,"column":23}},"5":{"start":{"line":42,"column":8},"end":{"line":70,"column":11}},"6":{"start":{"line":43,"column":12},"end":{"line":43,"column":31}},"7":{"start":{"line":45,"column":12},"end":{"line":47,"column":13}},"8":{"start":{"line":46,"column":16},"end":{"line":46,"column":67}},"9":{"start":{"line":50,"column":12},"end":{"line":50,"column":26}},"10":{"start":{"line":52,"column":12},"end":{"line":56,"column":13}},"11":{"start":{"line":53,"column":16},"end":{"line":53,"column":124}},"12":{"start":{"line":55,"column":16},"end":{"line":55,"column":110}},"13":{"start":{"line":59,"column":12},"end":{"line":69,"column":15}},"14":{"start":{"line":71,"column":8},"end":{"line":77,"column":11}},"15":{"start":{"line":90,"column":8},"end":{"line":90,"column":27}},"16":{"start":{"line":91,"column":8},"end":{"line":93,"column":9}},"17":{"start":{"line":92,"column":12},"end":{"line":92,"column":63}},"18":{"start":{"line":122,"column":8},"end":{"line":122,"column":46}},"19":{"start":{"line":124,"column":8},"end":{"line":124,"column":21}},"20":{"start":{"line":126,"column":8},"end":{"line":146,"column":9}},"21":{"start":{"line":130,"column":12},"end":{"line":130,"column":40}},"22":{"start":{"line":132,"column":13},"end":{"line":146,"column":9}},"23":{"start":{"line":136,"column":12},"end":{"line":136,"column":42}},"24":{"start":{"line":139,"column":12},"end":{"line":139,"column":79}},"25":{"start":{"line":141,"column":12},"end":{"line":145,"column":13}},"26":{"start":{"line":144,"column":16},"end":{"line":144,"column":37}},"27":{"start":{"line":148,"column":8},"end":{"line":152,"column":9}},"28":{"start":{"line":149,"column":12},"end":{"line":149,"column":122}},"29":{"start":{"line":150,"column":15},"end":{"line":152,"column":9}},"30":{"start":{"line":151,"column":12},"end":{"line":151,"column":51}},"31":{"start":{"line":155,"column":8},"end":{"line":155,"column":27}},"32":{"start":{"line":159,"column":8},"end":{"line":159,"column":27}},"33":{"start":{"line":163,"column":8},"end":{"line":163,"column":23}},"34":{"start":{"line":164,"column":8},"end":{"line":207,"column":9}},"35":{"start":{"line":166,"column":12},"end":{"line":166,"column":40}},"36":{"start":{"line":167,"column":12},"end":{"line":167,"column":29}},"37":{"start":{"line":168,"column":12},"end":{"line":196,"column":13}},"38":{"start":{"line":169,"column":16},"end":{"line":169,"column":42}},"39":{"start":{"line":171,"column":16},"end":{"line":179,"column":17}},"40":{"start":{"line":173,"column":20},"end":{"line":178,"column":21}},"41":{"start":{"line":176,"column":24},"end":{"line":176,"column":59}},"42":{"start":{"line":177,"column":24},"end":{"line":177,"column":54}},"43":{"start":{"line":181,"column":16},"end":{"line":181,"column":39}},"44":{"start":{"line":183,"column":16},"end":{"line":183,"column":55}},"45":{"start":{"line":184,"column":16},"end":{"line":184,"column":36}},"46":{"start":{"line":186,"column":16},"end":{"line":186,"column":77}},"47":{"start":{"line":187,"column":16},"end":{"line":189,"column":17}},"48":{"start":{"line":188,"column":20},"end":{"line":188,"column":54}},"49":{"start":{"line":191,"column":16},"end":{"line":191,"column":48}},"50":{"start":{"line":192,"column":16},"end":{"line":192,"column":39}},"51":{"start":{"line":194,"column":16},"end":{"line":194,"column":28}},"52":{"start":{"line":197,"column":15},"end":{"line":207,"column":9}},"53":{"start":{"line":199,"column":12},"end":{"line":199,"column":50}},"54":{"start":{"line":200,"column":12},"end":{"line":200,"column":41}},"55":{"start":{"line":201,"column":12},"end":{"line":201,"column":46}},"56":{"start":{"line":202,"column":12},"end":{"line":206,"column":13}},"57":{"start":{"line":203,"column":16},"end":{"line":203,"column":42}},"58":{"start":{"line":204,"column":16},"end":{"line":204,"column":65}},"59":{"start":{"line":205,"column":16},"end":{"line":205,"column":31}}},"branchMap":{"1":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":12},"end":{"line":45,"column":12}},{"start":{"line":45,"column":12},"end":{"line":45,"column":12}}]},"2":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":12},"end":{"line":52,"column":12}},{"start":{"line":52,"column":12},"end":{"line":52,"column":12}}]},"3":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":8},"end":{"line":91,"column":8}},{"start":{"line":91,"column":8},"end":{"line":91,"column":8}}]},"4":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":8},"end":{"line":126,"column":8}},{"start":{"line":126,"column":8},"end":{"line":126,"column":8}}]},"5":{"line":126,"type":"binary-expr","locations":[{"start":{"line":126,"column":12},"end":{"line":126,"column":31}},{"start":{"line":127,"column":15},"end":{"line":127,"column":47}}]},"6":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":13},"end":{"line":132,"column":13}},{"start":{"line":132,"column":13},"end":{"line":132,"column":13}}]},"7":{"line":132,"type":"binary-expr","locations":[{"start":{"line":132,"column":17},"end":{"line":132,"column":38}},{"start":{"line":133,"column":15},"end":{"line":133,"column":49}}]},"8":{"line":139,"type":"binary-expr","locations":[{"start":{"line":139,"column":24},"end":{"line":139,"column":42}},{"start":{"line":139,"column":46},"end":{"line":139,"column":78}}]},"9":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":12},"end":{"line":141,"column":12}},{"start":{"line":141,"column":12},"end":{"line":141,"column":12}}]},"10":{"line":141,"type":"binary-expr","locations":[{"start":{"line":141,"column":16},"end":{"line":141,"column":51}},{"start":{"line":142,"column":19},"end":{"line":142,"column":33}},{"start":{"line":143,"column":19},"end":{"line":143,"column":44}}]},"11":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":8},"end":{"line":148,"column":8}},{"start":{"line":148,"column":8},"end":{"line":148,"column":8}}]},"12":{"line":148,"type":"binary-expr","locations":[{"start":{"line":148,"column":11},"end":{"line":148,"column":31}},{"start":{"line":148,"column":35},"end":{"line":148,"column":45}}]},"13":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":15},"end":{"line":150,"column":15}},{"start":{"line":150,"column":15},"end":{"line":150,"column":15}}]},"14":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":8},"end":{"line":164,"column":8}},{"start":{"line":164,"column":8},"end":{"line":164,"column":8}}]},"15":{"line":168,"type":"if","locations":[{"start":{"line":168,"column":12},"end":{"line":168,"column":12}},{"start":{"line":168,"column":12},"end":{"line":168,"column":12}}]},"16":{"line":168,"type":"binary-expr","locations":[{"start":{"line":168,"column":16},"end":{"line":168,"column":30}},{"start":{"line":168,"column":34},"end":{"line":168,"column":48}}]},"17":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":16},"end":{"line":171,"column":16}},{"start":{"line":171,"column":16},"end":{"line":171,"column":16}}]},"18":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":20},"end":{"line":173,"column":20}},{"start":{"line":173,"column":20},"end":{"line":173,"column":20}}]},"19":{"line":197,"type":"if","locations":[{"start":{"line":197,"column":15},"end":{"line":197,"column":15}},{"start":{"line":197,"column":15},"end":{"line":197,"column":15}}]},"20":{"line":197,"type":"binary-expr","locations":[{"start":{"line":197,"column":21},"end":{"line":197,"column":45}},{"start":{"line":197,"column":50},"end":{"line":197,"column":71}}]},"21":{"line":202,"type":"if","locations":[{"start":{"line":202,"column":12},"end":{"line":202,"column":12}},{"start":{"line":202,"column":12},"end":{"line":202,"column":12}}]}},"code":["(function () { YUI.add('moodle-atto_qmultexthighlight-button', function (Y, NAME) {","","// This file is part of Moodle - http://moodle.org/\r","//\r","// Moodle is free software: you can redistribute it and/or modify\r","// it under the terms of the GNU General Public License as published by\r","// the Free Software Foundation, either version 3 of the License, or\r","// (at your option) any later version.\r","//\r","// Moodle is distributed in the hope that it will be useful,\r","// but WITHOUT ANY WARRANTY; without even the implied warranty of\r","// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r","// GNU General Public License for more details.\r","//\r","// You should have received a copy of the GNU General Public License\r","// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\r","\r","/*\r"," * @package    atto_qmultexthighlight\r"," * @copyright  2015 Queen Mary University of London\r"," * @author     Panagiotis Paralakis  <p.paralakis@qmul.ac.uk>\r"," * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r"," */\r","\r","/**\r"," * @module moodle-atto_qmultexthighlight-button\r"," */\r","\r","/**\r"," * Atto text editor title plugin.\r"," *\r"," * @namespace M.atto_qmultexthighlight\r"," * @class button\r"," * @extends M.editor_atto.EditorPlugin\r"," */\r","\r","var component = 'atto_qmultexthighlight';\r","\r","Y.namespace('M.atto_qmultexthighlight').Button = Y.Base.create('button', Y.M.editor_atto.EditorPlugin, [], {\r","    initializer: function(params) {\r","        var items = [];\r","        Y.Object.each(params.styles, function(style) {\r","            var htmlclass = '';\r","\r","            if (style.class!==''){\r","                htmlclass=' '+style.attr+'=\"'+style.attrValue+'\" ';\r","            }\r","\r","\r","            var text = '';\r","\r","            if(style.tagname !== '') {\r","                text = '<'+style.tagname+htmlclass+'>'+M.util.get_string(style.stylename, component)+'</'+style.tagname+'>';\r","            } else {\r","                text = '<div class=\"removehighlight\">'+M.util.get_string(style.stylename, component)+'</div>';\r","            }\r","\r","\r","            items.push({\r","                //text: M.util.get_string(style.stylename, component),\r","                //render style is the dropdown list\r","                text: text,\r","\r","                callbackArgs: {\r","                    tagname: style.tagname,\r","                    attr: style.attr,\r","                    attrValue: style.attrValue\r","                }\r","            });\r","        });\r","        this.addToolbarMenu({\r","            icon: 'e/text_highlight',\r","            globalItemConfig: {\r","                callback: this._changeStyle\r","            },\r","            items: items\r","        });\r","    },\r","\r","    /**\r","     * Change the title to the specified style.\r","     *\r","     * @method _changeStyle\r","     * @param {EventFacade} e\r","     * @param {Object} The new style\r","     * @private\r","     */\r","    _changeStyle: function(e, style) {\r","\r","        var htmlclass = '';\r","        if (style.classname!==''){\r","            htmlclass=' '+style.attr+'=\"'+style.attrValue+'\" ';\r","        }\r","\r","        /*var selection = document.getSelection();\r","\r","         var str = selection.toString();\r","         var divs= $('div:contains(\"'+str+'\")');\r","\r","         $.each(divs, function(){\r","\r","         console.log($(this).text());\r","         if ($(this).text() === str && $(this).hasClass('qmhighlighted')){\r","         $(this).remove();\r","         }\r","\r","         });*/\r","\r","        /**\r","         * tagname has to change to class and theme styles need to be updated to classess as well.\r","         *\r","         */\r","\r","        /*  if(style.tagname !== '') {\r","         document.execCommand(\"insertHTML\", false,\r","         '<'+style.tagname+' '+htmlclass+' class=\"qmhighlighted\">'+ str+'</'+style.tagname+'>');\r","         } else {\r","         document.execCommand(\"insertHTML\", false, str);\r","         }*/\r","\r","\r","        var selection = window.getSelection();\r","\r","        var str = \"\";\r","\r","        if (window.getSelection\r","            && window.getSelection().toString())\r","//            && $(window.getSelection()).attr('type') != \"Caret\")\r","        {\r","            str = window.getSelection();\r","        }\r","        else if (document.getSelection\r","            && document.getSelection().toString())\r","//            && $(document.getSelection()).attr('type') != \"Caret\")\r","        {\r","            str = document.getSelection();\r","        }\r","        else {\r","            selection = document.selection && document.selection.createRange();\r","\r","            if (!(typeof selection === \"undefined\")\r","                && selection.text\r","                && selection.text.toString()) {\r","                str = selection.text;\r","            }\r","        }\r","\r","        if(style.tagname !== '' && str !== '') {\r","            this._pasteHtmlAtCaret('<'+style.tagname+' '+htmlclass+' class=\"qmhighlighted\">'+ str+'</'+style.tagname+'>');\r","        } else if(str !== '') {\r","            this._pasteHtmlAtCaret(str.toString());\r","        }\r","\r","        // Mark as updated\r","        this.markUpdated();\r","\r","\r","        // Mark as updated\r","        this.markUpdated();\r","    },\r","    _pasteHtmlAtCaret: function (html) {\r","\r","        var sel, range;\r","        if (window.getSelection) {\r","            // IE9 and non-IE\r","            sel = window.getSelection();\r","            console.log(sel);\r","            if (sel.getRangeAt && sel.rangeCount) {\r","                range = sel.getRangeAt(0);\r","\r","                if(sel.anchorNode.parentNode) {\r","\r","                    if(sel.anchorNode.parentNode.id.indexOf('highlight-')>=0){\r","//                        var parentNode = sel.anchorNode.parentNode;\r","//                        $(parentNode).remove();\r","                        var pn = sel.anchorNode.parentNode;\r","                        pn.parentNode.removeChild(pn);\r","                    }\r","                }\r","\r","                range.deleteContents();\r","\r","                var el = document.createElement(\"div\");\r","                el.innerHTML = html;\r","\r","                var frag = document.createDocumentFragment(), node, lastNode;\r","                while ( (node = el.firstChild) ) {\r","                    lastNode = frag.appendChild(node);\r","                }\r","\r","                var firstNode = frag.firstChild;\r","                range.insertNode(frag);\r","\r","                return true;\r","\r","            }\r","        } else if ( (sel = document.selection) && sel.type != \"Control\") {\r","            // IE < 9\r","            var originalRange = sel.createRange();\r","            originalRange.collapse(true);\r","            sel.createRange().pasteHTML(html);\r","            if (selectPastedContent) {\r","                range = sel.createRange();\r","                range.setEndPoint(\"StartToStart\", originalRange);\r","                range.select();\r","            }\r","        }\r","    }\r","});","","}, '@VERSION@', {\"requires\": [\"moodle-editor_atto-plugin\"]});","","}());"]};
}
var __cov_dFFO3bZo8j5V3P0$LE$GtA = __coverage__['build/moodle-atto_qmultexthighlight-button/moodle-atto_qmultexthighlight-button.js'];
__cov_dFFO3bZo8j5V3P0$LE$GtA.s['1']++;YUI.add('moodle-atto_qmultexthighlight-button',function(Y,NAME){__cov_dFFO3bZo8j5V3P0$LE$GtA.f['1']++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['2']++;var component='atto_qmultexthighlight';__cov_dFFO3bZo8j5V3P0$LE$GtA.s['3']++;Y.namespace('M.atto_qmultexthighlight').Button=Y.Base.create('button',Y.M.editor_atto.EditorPlugin,[],{initializer:function(params){__cov_dFFO3bZo8j5V3P0$LE$GtA.f['2']++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['4']++;var items=[];__cov_dFFO3bZo8j5V3P0$LE$GtA.s['5']++;Y.Object.each(params.styles,function(style){__cov_dFFO3bZo8j5V3P0$LE$GtA.f['3']++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['6']++;var htmlclass='';__cov_dFFO3bZo8j5V3P0$LE$GtA.s['7']++;if(style.class!==''){__cov_dFFO3bZo8j5V3P0$LE$GtA.b['1'][0]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['8']++;htmlclass=' '+style.attr+'="'+style.attrValue+'" ';}else{__cov_dFFO3bZo8j5V3P0$LE$GtA.b['1'][1]++;}__cov_dFFO3bZo8j5V3P0$LE$GtA.s['9']++;var text='';__cov_dFFO3bZo8j5V3P0$LE$GtA.s['10']++;if(style.tagname!==''){__cov_dFFO3bZo8j5V3P0$LE$GtA.b['2'][0]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['11']++;text='<'+style.tagname+htmlclass+'>'+M.util.get_string(style.stylename,component)+'</'+style.tagname+'>';}else{__cov_dFFO3bZo8j5V3P0$LE$GtA.b['2'][1]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['12']++;text='<div class="removehighlight">'+M.util.get_string(style.stylename,component)+'</div>';}__cov_dFFO3bZo8j5V3P0$LE$GtA.s['13']++;items.push({text:text,callbackArgs:{tagname:style.tagname,attr:style.attr,attrValue:style.attrValue}});});__cov_dFFO3bZo8j5V3P0$LE$GtA.s['14']++;this.addToolbarMenu({icon:'e/text_highlight',globalItemConfig:{callback:this._changeStyle},items:items});},_changeStyle:function(e,style){__cov_dFFO3bZo8j5V3P0$LE$GtA.f['4']++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['15']++;var htmlclass='';__cov_dFFO3bZo8j5V3P0$LE$GtA.s['16']++;if(style.classname!==''){__cov_dFFO3bZo8j5V3P0$LE$GtA.b['3'][0]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['17']++;htmlclass=' '+style.attr+'="'+style.attrValue+'" ';}else{__cov_dFFO3bZo8j5V3P0$LE$GtA.b['3'][1]++;}__cov_dFFO3bZo8j5V3P0$LE$GtA.s['18']++;var selection=window.getSelection();__cov_dFFO3bZo8j5V3P0$LE$GtA.s['19']++;var str='';__cov_dFFO3bZo8j5V3P0$LE$GtA.s['20']++;if((__cov_dFFO3bZo8j5V3P0$LE$GtA.b['5'][0]++,window.getSelection)&&(__cov_dFFO3bZo8j5V3P0$LE$GtA.b['5'][1]++,window.getSelection().toString())){__cov_dFFO3bZo8j5V3P0$LE$GtA.b['4'][0]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['21']++;str=window.getSelection();}else{__cov_dFFO3bZo8j5V3P0$LE$GtA.b['4'][1]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['22']++;if((__cov_dFFO3bZo8j5V3P0$LE$GtA.b['7'][0]++,document.getSelection)&&(__cov_dFFO3bZo8j5V3P0$LE$GtA.b['7'][1]++,document.getSelection().toString())){__cov_dFFO3bZo8j5V3P0$LE$GtA.b['6'][0]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['23']++;str=document.getSelection();}else{__cov_dFFO3bZo8j5V3P0$LE$GtA.b['6'][1]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['24']++;selection=(__cov_dFFO3bZo8j5V3P0$LE$GtA.b['8'][0]++,document.selection)&&(__cov_dFFO3bZo8j5V3P0$LE$GtA.b['8'][1]++,document.selection.createRange());__cov_dFFO3bZo8j5V3P0$LE$GtA.s['25']++;if((__cov_dFFO3bZo8j5V3P0$LE$GtA.b['10'][0]++,!(typeof selection==='undefined'))&&(__cov_dFFO3bZo8j5V3P0$LE$GtA.b['10'][1]++,selection.text)&&(__cov_dFFO3bZo8j5V3P0$LE$GtA.b['10'][2]++,selection.text.toString())){__cov_dFFO3bZo8j5V3P0$LE$GtA.b['9'][0]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['26']++;str=selection.text;}else{__cov_dFFO3bZo8j5V3P0$LE$GtA.b['9'][1]++;}}}__cov_dFFO3bZo8j5V3P0$LE$GtA.s['27']++;if((__cov_dFFO3bZo8j5V3P0$LE$GtA.b['12'][0]++,style.tagname!=='')&&(__cov_dFFO3bZo8j5V3P0$LE$GtA.b['12'][1]++,str!=='')){__cov_dFFO3bZo8j5V3P0$LE$GtA.b['11'][0]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['28']++;this._pasteHtmlAtCaret('<'+style.tagname+' '+htmlclass+' class="qmhighlighted">'+str+'</'+style.tagname+'>');}else{__cov_dFFO3bZo8j5V3P0$LE$GtA.b['11'][1]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['29']++;if(str!==''){__cov_dFFO3bZo8j5V3P0$LE$GtA.b['13'][0]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['30']++;this._pasteHtmlAtCaret(str.toString());}else{__cov_dFFO3bZo8j5V3P0$LE$GtA.b['13'][1]++;}}__cov_dFFO3bZo8j5V3P0$LE$GtA.s['31']++;this.markUpdated();__cov_dFFO3bZo8j5V3P0$LE$GtA.s['32']++;this.markUpdated();},_pasteHtmlAtCaret:function(html){__cov_dFFO3bZo8j5V3P0$LE$GtA.f['5']++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['33']++;var sel,range;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['34']++;if(window.getSelection){__cov_dFFO3bZo8j5V3P0$LE$GtA.b['14'][0]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['35']++;sel=window.getSelection();__cov_dFFO3bZo8j5V3P0$LE$GtA.s['36']++;console.log(sel);__cov_dFFO3bZo8j5V3P0$LE$GtA.s['37']++;if((__cov_dFFO3bZo8j5V3P0$LE$GtA.b['16'][0]++,sel.getRangeAt)&&(__cov_dFFO3bZo8j5V3P0$LE$GtA.b['16'][1]++,sel.rangeCount)){__cov_dFFO3bZo8j5V3P0$LE$GtA.b['15'][0]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['38']++;range=sel.getRangeAt(0);__cov_dFFO3bZo8j5V3P0$LE$GtA.s['39']++;if(sel.anchorNode.parentNode){__cov_dFFO3bZo8j5V3P0$LE$GtA.b['17'][0]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['40']++;if(sel.anchorNode.parentNode.id.indexOf('highlight-')>=0){__cov_dFFO3bZo8j5V3P0$LE$GtA.b['18'][0]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['41']++;var pn=sel.anchorNode.parentNode;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['42']++;pn.parentNode.removeChild(pn);}else{__cov_dFFO3bZo8j5V3P0$LE$GtA.b['18'][1]++;}}else{__cov_dFFO3bZo8j5V3P0$LE$GtA.b['17'][1]++;}__cov_dFFO3bZo8j5V3P0$LE$GtA.s['43']++;range.deleteContents();__cov_dFFO3bZo8j5V3P0$LE$GtA.s['44']++;var el=document.createElement('div');__cov_dFFO3bZo8j5V3P0$LE$GtA.s['45']++;el.innerHTML=html;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['46']++;var frag=document.createDocumentFragment(),node,lastNode;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['47']++;while(node=el.firstChild){__cov_dFFO3bZo8j5V3P0$LE$GtA.s['48']++;lastNode=frag.appendChild(node);}__cov_dFFO3bZo8j5V3P0$LE$GtA.s['49']++;var firstNode=frag.firstChild;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['50']++;range.insertNode(frag);__cov_dFFO3bZo8j5V3P0$LE$GtA.s['51']++;return true;}else{__cov_dFFO3bZo8j5V3P0$LE$GtA.b['15'][1]++;}}else{__cov_dFFO3bZo8j5V3P0$LE$GtA.b['14'][1]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['52']++;if((__cov_dFFO3bZo8j5V3P0$LE$GtA.b['20'][0]++,sel=document.selection)&&(__cov_dFFO3bZo8j5V3P0$LE$GtA.b['20'][1]++,sel.type!='Control')){__cov_dFFO3bZo8j5V3P0$LE$GtA.b['19'][0]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['53']++;var originalRange=sel.createRange();__cov_dFFO3bZo8j5V3P0$LE$GtA.s['54']++;originalRange.collapse(true);__cov_dFFO3bZo8j5V3P0$LE$GtA.s['55']++;sel.createRange().pasteHTML(html);__cov_dFFO3bZo8j5V3P0$LE$GtA.s['56']++;if(selectPastedContent){__cov_dFFO3bZo8j5V3P0$LE$GtA.b['21'][0]++;__cov_dFFO3bZo8j5V3P0$LE$GtA.s['57']++;range=sel.createRange();__cov_dFFO3bZo8j5V3P0$LE$GtA.s['58']++;range.setEndPoint('StartToStart',originalRange);__cov_dFFO3bZo8j5V3P0$LE$GtA.s['59']++;range.select();}else{__cov_dFFO3bZo8j5V3P0$LE$GtA.b['21'][1]++;}}else{__cov_dFFO3bZo8j5V3P0$LE$GtA.b['19'][1]++;}}}});},'@VERSION@',{'requires':['moodle-editor_atto-plugin']});
