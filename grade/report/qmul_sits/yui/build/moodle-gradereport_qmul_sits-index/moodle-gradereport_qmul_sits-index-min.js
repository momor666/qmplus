YUI.add("moodle-gradereport_qmul_sits-index",function(e,t){M.gradereport_qmul_sits=M.gradereport_qmul_sits||{};var n=M.gradereport_qmul_sits.index={};n.update_summary=function(e){var t=e.all("input[type=checkbox].user").size(),n=e.all("input[type=checkbox].gradeitem").size(),r=e.all("input[type=checkbox].user:checked").size(),i=e.all("input[type=checkbox].gradeitem:checked").size(),s=r+" of "+t+" students and "+i+" of "+n+" grade items selected.";e.one("div.summary").setHTML(s),r==0||i==0?e.one("input[type=submit]").setAttribute("disabled","disabled"):e.one("input[type=submit]").removeAttribute("disabled")},n.init=function(t){e.all("form.sits").each(function(e){e.all("input[type=checkbox].error").each(function(t){var n=t.ancestor("span").one("label").getHTML();e.one("div.errors ul").append("<li>"+n+"</li>")})}),e.all("form.sits input[type=checkbox]").on("change",function(t){var r=e.one(t.target).ancestor("form");n.update_summary(r)}),e.all("form.sits").each(function(){n.update_summary(this)}),e.one("select[name=sitsmodule]").on("change",function(t){var n=e.one(t.target).get("value");e.all("div.sitsmodule").hide(),e.one("div.sitsmodule-"+n).show()}),e.all("div.sitsmodule").hide(),e.one("div.sitsmodule").show(),e.all("form.sits a.select-all").on("click",function(t){var r=e.one(t.target).ancestor("fieldset"),i=e.one(t.target).ancestor("form");r.all("input[type=checkbox]").each(function(e){e.hasAttribute("disabled")||e.set("checked",!0)}),n.update_summary(i)}),e.all("form.sits a.select-none").on("click",function(t){var r=e.one(t.target).ancestor("fieldset"),i=e.one(t.target).ancestor("form");r.all("input[type=checkbox]").set("checked",!1),n.update_summary(i)})}},"@VERSION@",{requires:["base","node","event"]});
