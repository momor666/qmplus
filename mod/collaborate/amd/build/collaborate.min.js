define(["jquery"],function(a){var b=function(){return document.queryCommandSupported("copy")||document.queryCommandEnabled("copy")},c=function(){if(document.selection)document.selection.empty();else{var a=window.getSelection();a.removeAllRanges()}},d=function(b){if(b instanceof a&&(b=b[0]),b.select)return b.select(),document.execCommand("copy"),void c();var d,e,f=document;f.body.createTextRange?(d=document.body.createTextRange(),d.moveToElementText(b),d.select(),document.execCommand("copy"),c()):window.getSelection&&(e=window.getSelection(),d=document.createRange(),d.selectNodeContents(b),e.removeAllRanges(),e.addRange(d),document.execCommand("copy"),c())},e=function(){b()&&(a(".copyablelink").addClass("enabled"),a(".copyablelink button").click(function(b){b.preventDefault(),d(a(this).parent("form").find("input")),a(this).parent("form").addClass("copied"),a(this).parent("form").find("div").focus()}))};return{init:function(){e()}}});