<?xml version="1.0" encoding="UTF-8" ?>
  <XMLDB PATH="local/qmcw_coversheet/db" VERSION="20170321" COMMENT="XMLDB file for Moodle local/qmcw_coversheet">
    <TABLES>
      <TABLE NAME="local_qmcw_scan" COMMENT="Assignment data recorded when item is scanned or updated.">
        <FIELDS>
          <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true"/>
          <FIELD NAME="scanuserid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="User that scanned the assign."/>
          <FIELD NAME="timescanned" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="The timestamp of when the user scanned the item."/>
          <FIELD NAME="cmid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false"/>
          <FIELD NAME="timesubmitted" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="The timestamp of when submitted the item."/>
          <FIELD NAME="userid"  TYPE="int" NOTNULL="false" LENGTH="10" SEQUENCE="false" COMMENT="User id of the person who submitted the assignement."/>
          <FIELD NAME="groupid"  TYPE="int" NOTNULL="false" LENGTH="10" SEQUENCE="false" COMMENT="Group id for the group who submitted the assignement."/>
          <FIELD NAME="timeupdated" TYPE="int" LENGTH="10" NOTNULL="false" COMMENT="The timestamp of when the item was overriden, NULL if never."/>
        </FIELDS>
        <KEYS>
          <KEY NAME="primary" TYPE="primary" FIELDS="id" COMMENT="The unique id for this scan."/>
          <KEY NAME="cmid" TYPE="foreign" FIELDS="cmid" REFTABLE="assign" REFFIELDS="id" COMMENT="The course module id for this assign."/>
        </KEYS>
      </TABLE>
      <TABLE NAME="local_qmcw_update_log" COMMENT="Current submission and scan data recorded when existing scan is updated.">
        <FIELDS>
          <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true"/>
          <FIELD NAME="scanid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="The the scan that the overriding relates to."/>
          <FIELD NAME="scanuserid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="User that overrode the assign."/>
          <FIELD NAME="timescanned" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="The time the previous scan date was updated by the scanning user."/>
          <FIELD NAME="timesubmitted" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" COMMENT="The date of the previous scan or update if provided."/>
          <FIELD NAME="updatenote" TYPE="text" LENGTH="144" NOTNULL="true" SEQUENCE="false" COMMENT="A note space to record any issues pertaining to the update."/>
        </FIELDS>
        <KEYS>
          <KEY NAME="primary" TYPE="primary" FIELDS="id" COMMENT="The unique id for this scan override."/>
          <KEY NAME="scanid" TYPE="foreign" FIELDS="scanid" REFTABLE="local_coversheet_scan" REFFIELDS="id" COMMENT="The original scan this override relates to."/>
        </KEYS>
      </TABLE>
    </TABLES>
  </XMLDB>