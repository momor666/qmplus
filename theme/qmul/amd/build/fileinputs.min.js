define(["jquery","core/log"],function(a,b){return{init:function(){b.debug("QMUL File Input JavaScript initialised"),a(document).ready(function(){a("body").on("change",".inputfile",function(a){var b=this;b.addEventListener("focus",function(){b.classList.add("has-focus")}),b.addEventListener("blur",function(){b.classList.remove("has-focus")});var c=b.nextElementSibling,d=c.nextElementSibling,e=c.innerHTML,f=d.innerHTML,g="";g=this.files&&this.files.length>1?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):a.target.value.split("\\").pop(),g?(c.querySelector("span").innerHTML=g,d.innerHTML=g):(c.innerHTML=e,d.innerHTML=f)}),a(".fdescription").each(function(){if(a(this).length){var b=a(this).attr("class");a(this).replaceWith(function(){return a("<span/>",{html:this.innerHTML}).addClass(b)})}})})}}});