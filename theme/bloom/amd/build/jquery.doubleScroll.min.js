define(["jquery"],function(l){l.fn.doubleScroll=function(o){var e={contentElement:void 0,scrollCss:{"overflow-x":"auto","overflow-y":"hidden"},contentCss:{"overflow-x":"auto","overflow-y":"hidden"},onlyIfScroll:!0,resetOnWindowResize:!1,timeToWaitForResize:30};l.extend(!0,e,o),l.extend(e,{topScrollBarMarkup:'<div class="doubleScroll-scroll-wrapper"><div class="doubleScroll-scroll"></div></div>',topScrollBarWrapperSelector:".doubleScroll-scroll-wrapper",topScrollBarInnerSelector:".doubleScroll-scroll"});var r=function(o,e){if(e.onlyIfScroll&&o.get(0).scrollWidth<=o.width())return void o.prev(e.topScrollBarWrapperSelector).remove();var r=o.prev(e.topScrollBarWrapperSelector);if(0==r.length){r=l(e.topScrollBarMarkup),o.before(r),r.css(e.scrollCss),o.css(e.contentCss),r.bind("scroll.doubleScroll",function(){o.scrollLeft(r.scrollLeft())});var t=function(){r.scrollLeft(o.scrollLeft())};o.bind("scroll.doubleScroll",t)}var n;n=void 0!==e.contentElement&&0!==o.find(e.contentElement).length?o.find(e.contentElement):o.find(">:first-child"),l(e.topScrollBarInnerSelector,r).width(n.outerWidth()),r.width(o.width()),r.scrollLeft(o.scrollLeft())};return this.each(function(){var o=l(this);if(r(o,e),e.resetOnWindowResize){var t,n=function(l){r(o,e)};l(window).bind("resize.doubleScroll",function(){clearTimeout(t),t=setTimeout(n,e.timeToWaitForResize)})}})}});