define(["jQuery"],function(e){e.fn.doubleScroll=function(l){var o={contentElement:void 0,scrollCss:{"overflow-x":"auto","overflow-y":"hidden"},contentCss:{"overflow-x":"auto","overflow-y":"hidden"},onlyIfScroll:!0,resetOnWindowResize:!1,timeToWaitForResize:30};e.extend(!0,o,l),e.extend(o,{topScrollBarMarkup:'<div class="doubleScroll-scroll-wrapper" style="height: 20px;"><div class="doubleScroll-scroll" style="height: 20px;"></div></div>',topScrollBarWrapperSelector:".doubleScroll-scroll-wrapper",topScrollBarInnerSelector:".doubleScroll-scroll"});var r=function(l,o){if(o.onlyIfScroll&&l.get(0).scrollWidth<=l.width())return void l.prev(o.topScrollBarWrapperSelector).remove();var r=l.prev(o.topScrollBarWrapperSelector);if(0==r.length){r=e(o.topScrollBarMarkup),l.before(r),r.css(o.scrollCss),l.css(o.contentCss),r.bind("scroll.doubleScroll",function(){l.scrollLeft(r.scrollLeft())});var t=function(){r.scrollLeft(l.scrollLeft())};l.bind("scroll.doubleScroll",t)}var n;n=void 0!==o.contentElement&&0!==l.find(o.contentElement).length?l.find(o.contentElement):l.find(">:first-child"),e(o.topScrollBarInnerSelector,r).width(n.outerWidth()),r.width(l.width()),r.scrollLeft(l.scrollLeft())};return this.each(function(){var l=e(this);if(r(l,o),o.resetOnWindowResize){var t,n=function(e){r(l,o)};e(window).bind("resize.doubleScroll",function(){clearTimeout(t),t=setTimeout(n,o.timeToWaitForResize)})}})}});